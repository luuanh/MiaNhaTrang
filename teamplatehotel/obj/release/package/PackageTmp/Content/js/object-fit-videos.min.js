!function(){"use strict";function e(a){for(var b=getComputedStyle(a).fontFamily,c=null,e={};null!==(c=d.exec(b));)e[c[1]]=c[2];return e["object-position"]?h(e):e}function f(){for(var a=document.querySelectorAll("video"),b=-1;a[++b];){var c=e(a[b]);(c["object-fit"]||c["object-position"])&&(c["object-fit"]=c["object-fit"]||"fill",g(a[b],c))}}function g(a,b){function h(){var d=a.videoWidth,f=a.videoHeight,g=d/f,h=e.clientWidth,i=e.clientHeight,j=h/i,k=0,l=0;c.marginLeft=c.marginTop=0,(g<j?"contain"===b["object-fit"]:"cover"===b["object-fit"])?(k=i*g,l=h/g,c.width=Math.round(k)+"px",c.height=i+"px","left"===b["object-position-x"]?c.marginLeft=0:"right"===b["object-position-x"]?c.marginLeft=Math.round(h-k)+"px":c.marginLeft=Math.round((h-k)/2)+"px"):(l=h/g,c.width=h+"px",c.height=Math.round(l)+"px","top"===b["object-position-y"]?c.marginTop=0:"bottom"===b["object-position-y"]?c.marginTop=Math.round(i-l)+"px":c.marginTop=Math.round((i-l)/2)+"px")}if("fill"!==b["object-fit"]){var c=a.style,d=window.getComputedStyle(a),e=document.createElement("object-fit");e.appendChild(a.parentNode.replaceChild(e,a));var f={height:"100%",width:"100%",boxSizing:"content-box",display:"inline-block",overflow:"hidden"};"backgroundColor backgroundImage borderColor borderStyle borderWidth bottom fontSize lineHeight left opacity margin position right top visibility".replace(/\w+/g,function(a){f[a]=d[a]});for(var g in f)e.style[g]=f[g];c.border=c.margin=c.padding=0,c.display="block",c.opacity=1,a.addEventListener("loadedmetadata",h),window.addEventListener("optimizedResize",h),a.readyState>=1&&(a.removeEventListener("loadedmetadata",h),h())}}function h(a){return~a["object-position"].indexOf("left")?a["object-position-x"]="left":~a["object-position"].indexOf("right")?a["object-position-x"]="right":a["object-position-x"]="center",~a["object-position"].indexOf("top")?a["object-position-y"]="top":~a["object-position"].indexOf("bottom")?a["object-position-y"]="bottom":a["object-position-y"]="center",a}function i(a,b,c){c=c||window;var d=!1,e=function(){d||(d=!0,requestAnimationFrame(function(){c.dispatchEvent(new CustomEvent(b)),d=!1}))};c.addEventListener(a,e)}var a=new Image,b="object-fit"in a.style,c="object-position"in a.style,d=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g;b&&c||(window.addEventListener("load",f),i("resize","optimizedResize"))}();
